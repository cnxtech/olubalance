<div class="row">
	<div class="col s12">
    	<p class="ob-text-primary ob-shadow left ob-no-bottom">
    		<%= link_to accounts_path, class: 'ob-text-primary valign-wrapper' do %>
				<i class="material-icons ob-icon-medium">chevron_left</i>
				<span class="">Back to Accounts</span>
			<% end %>
    	</p>
		<%= link_to new_account_transaction_path, class: "btn waves-effect waves-light right z-depth-2" do %>
	    	<i class="material-icons left">add</i>Transaction
	    <% end %>
	</div>

	<div class="col s12">
	    <h5 class="ob-text-primary ob-shadow left"><strong><%= @account.name %></strong></h5>
    	<h5 class="ob-text-primary ob-shadow right">
    		<strong><span class="hide-on-med-and-down">Balance: </span><%= number_to_currency(@account.current_balance) %></strong>
    	</h5>
	</div>
</div>

<div class="row">
	<div class="col s12">
		<ul class="collection z-depth-2">
			<!-- mobile header -->
			<li class="collection-item ob-accent ob-text-primary hide-on-large-only"><strong>Transactions</strong></li>
			
			<!-- desktop header -->
			<li class="collection-item ob-accent ob-text-primary hide-on-med-and-down">
				<div class="row ob-no-bottom">
					<div class="col s1 center-align">
						<strong>Date</strong>
					</div>
					<div class="col s8 valign-wrapper">
						<strong>Description</strong>
					</div>
					<div class="col s1 right-align">
						<strong>Credit</strong>
					</div>
					<div class="col s1 right-align">
						<strong>Debit</strong>
					</div>
					<div class="col s1 right-align">
						<strong>Balance</strong>
					</div>
				</div>
			</li>

			<% @transactions.each do |transaction| %>
				<%= link_to [transaction.account, transaction], class: "collection-item" do %>
					<!-- mobile view -->
					<div class="row ob-no-bottom hide-on-large-only">
						<div class="col s4 text-muted">
							<small><%= transaction.trx_date.strftime('%m/%d/%y') %></small>
						</div>
						<div class="col s8 right-align text-muted">
							<small>Balance <%= number_to_currency(transaction.running_balance) %></small>
						</div>
					</div>
					<div class="row ob-no-bottom teal-text text-darken-2 hide-on-large-only">
						<div class="col s8 valign-wrapper">
							<strong><%= transaction.description %></strong>
							<% if transaction.attachment.exists? then %>
								<i class="tiny text-muted material-icons tooltipped" data-position="top" data-tooltip="Transaction has attachment">attach_file</i>
							<% end %>
						</div>
						<div class="col s4 right-align">
							<% if transaction.amount >= 0 then %>
								<span class="green-text"><%= number_to_currency(transaction.amount) %></span>
							<% else %>
								<span class="red-text"><%= number_to_currency(transaction.amount.abs) %></span>
							<% end %>
						</div>
					</div>

					<!-- desktop view -->
					<div class="row ob-no-bottom hide-on-med-and-down valign-wrapper">
						<div class="col s1 text-muted ob-right-border">
							<%= transaction.trx_date.strftime('%m/%d/%Y') %>
						</div>
						<div class="col s8 valign-wrapper teal-text text-darken-2 ob-right-border">
							<strong><%= transaction.description %></strong>
							<% if transaction.attachment.exists? then %>
								<i class="tiny text-muted material-icons tooltipped" data-position="top" data-tooltip="Transaction has attachment">attach_file</i>
							<% end %>
						</div>
						<div class="col s1 right-align ob-right-border">
							<% if transaction.amount >= 0 then %>
								<span class="green-text"><%= number_to_currency(transaction.amount) %></span>
							<% else %>
								&nbsp;
							<% end %>
						</div>
						<div class="col s1 right-align ob-right-border">
							<% if transaction.amount < 0 then %>
								<span class="red-text"><%= number_to_currency(transaction.amount.abs) %></span>
							<% else %>
								&nbsp;
							<% end %>
						</div>
						<div class="col s1 right-align text-muted">
							<%= number_to_currency(transaction.running_balance) %>
						</div>
					</div>
				<% end %>
			<% end %>
		</ul>
	</div>
</div>

<div class="row">
	<div class="col s12 center-align">
		<%= will_paginate @transactions, renderer: @custom_paginate_renderer %>
	</div>
</div>